# n8.ked Discord Bot - ARIEUS Digital Sovereignty Platform

**N8.KED ROACH: Resilience Oriented Adaptive Cohesive Hub**

*300 million years of survival algorithms, now in code*

## Current Version: 1.0.0 - APEX ADAPTATION

**60+ Active Commands** | **12 Database Tables** | **ARIEUS Economy** | **N8.KED ROACH Engine**

---

## üéØ What Is This?

**n8.ked** is a sovereign digital-physical ecosystem that learns from nature's patterns:

- ÔøΩ **N8.KED ROACH Engine** - Reality meshing protocols (physical laws ‚Üí code patterns)
- ‚ö° **ARIEUS Economy** - FRAG currency with thermodynamic water backing
- üåä **Gravity Well** - Passive UBI (hourly redistribution to users < 100 FRAG)
- üé® **NFT Identity System** - Portable cross-platform achievements
- ÔøΩÔ∏è **Democratic Governance** - Reputation-weighted voting
- üìä **Simulated Analytics** - Platform-independent metrics (no external APIs)
- ÔøΩ **Data Sovereignty** - Portable JSON identity export
- üåà **ARIEUS Visual Theme** - Rich embeds with 6-color palette
- ÔøΩ **Subscription Revenue** - 4 tiers (FREE/STARTER/PRO/ENTERPRISE)

---

## üêú THE ROACH PRINCIPLE

**The Loofah Breakthrough:** A roach stuck upside down on a fallen loofah taught us that **constraints breed innovation**. What appears as an obstacle becomes the tool for escape when perspective shifts.

**Read the full philosophy:** [N8.KED ROACH Engine Documentation](docs/N8KED_ROACH_ENGINE.md)

**Key Insight:** Your system doesn't just adapt to environments - it transforms them.

---

## üöÄ Quick Start
1. Copy `.env.example` to `.env` and fill in Discord credentials
2. Install dependencies:
   ```powershell
   npm install
   ```
3. Start in development mode:
   ```powershell
   npm run dev
   ```

Bot reports "n8.ked online" with working `!ping` command.

---

## üöÄ Quick Start

### Installation
1. Copy `.env.example` to `.env` and fill in Discord credentials
2. Install dependencies:
   ```powershell
   npm install
   ```
3. Start in development mode:
   ```powershell
   npm run dev
   ```

Bot reports "n8.ked online" with Gravity Well timer activated.

### Technical Foundation
- **Platform**: Discord.js v14.15.3 on Node.js v22.21.0
- **Database**: SQLite with WAL mode (better-sqlite3)
- **Architecture**: 7-observer core + Triple Helix evolution engine + ROACH adaptation
- **Stability**: Zero critical bugs, 3+ hours continuous operation
- **Capacity**: Scales to 10,000+ users with database indexes

---

## üìö Command Categories

### üêú N8.KED ROACH Engine (7 commands)
- `!activate_n8ked_roach` - Deploy Resilience Oriented Adaptive Cohesive Hub (STARTER)
- `!reality_mesh_status` - Digital-physical coherence dashboard (STARTER)
- `!analyze_design_flaw <env>` - Roach vs APEX intelligence comparison (PRO)
- `!loofah_breakthrough <obstacle>` - Transform obstacles into tools (PRO)
- `!quantum_reality_mesh <pattern>` - Physical laws ‚Üí code patterns (PRO)
- `!become_apex` - APEX predator transformation (ENTERPRISE)
- `!upside_down_architecture` - Systems that thrive when inverted (ENTERPRISE)

**Philosophy:** Constraints breed innovation. The fallen loofah becomes the launch platform.  
**Read more:** [ROACH Engine Documentation](docs/N8KED_ROACH_ENGINE.md)

### ‚ö° ARIEUS Economy (10 commands)
### ‚ö° ARIEUS Economy (10 commands)
- `!bite` - Earn FRAG (24hr cooldown, 2% burn on transfer)
- `!balance` - Check FRAG + water backing + reputation
- `!transfer <@user> <amount>` - Send FRAG (1% to Gravity Well, 2% burn)
- `!leaderboard` - Top FRAG holders
- `!stake <amount>` - Lock FRAG for voting power (10% unstake fee)
- `!unstake <amount>` - Unlock staked FRAG
- `!gravity` - View Gravity Well status (passive UBI)
- `!reputation` - Your reputation tier (4 levels: 0/100/500/1000)
- `!treasury` - Community treasury balance
- `!economy` - System-wide ARIEUS statistics

**Features:**
- 24-hour cooldown (prevents spam)
- Thermodynamic water backing (1 FRAG burned = 0.001L water)
- Gravity Well UBI (hourly redistribution to < 100 FRAG users)
- Reputation gates (access unlocks at higher tiers)

### üé® NFT Identity System (12 commands)

### Governance (5 commands)
- `!propose <title> | <description>` - Create proposal
- `!vote <id> <yes|no>` - Vote on active proposal
- `!proposals` - List active proposals
- `!proposal <id>` - View proposal details
- `!governance` - System rules and statistics

### Monetization (3 commands)
- `!offers` - View USD redemption tiers
- `!redeem <tier>` - Redeem dust for USD
- `!redemptions` - View redemption history

### Security & Staking (6 commands)
- `!stake <amount>` - Lock dust for governance weight
- `!unstake <amount>` - Unlock staked dust
- `!staking` - View staking statistics
- `!audit` - Transaction audit log
- `!security` - Security settings overview
- `!rate_limits` - Current rate limit status

### External Integration (2 commands)
- `!realworld` - View real-world economic impact from APIs
- `!services` - External API status check

### Production Monitoring (3 commands)
- `!production` - System dashboard (owner only)
- `!health` - Health check summary
- `!backup` - Manual backup trigger (owner only)

### NFT Identity Economy (15 commands)
- `!create_nft <template>` - Interactive NFT creation (hex_sigil/3d_avatar/reality_shard)
- `!nft_gallery [@user]` - View NFT collection
- `!appreciate <nft_id> <amount>` - Invest dust in community NFTs
- `!marketplace` - View NFT listings
- `!list_nft <nft_id> <price>` - List NFT for sale
- `!unlist_nft <nft_id>` - Remove listing
- `!buy_nft <nft_id>` - Purchase listed NFT
- `!nft_stats` - Marketplace statistics
- `!nft_top` - Top 5 most valuable NFTs
- `!nft_detail <nft_id>` - View NFT full details
- `!transfer_nft <nft_id> @user` - Gift NFT to another user
- `!my_listings` - View your marketplace listings
- `!search_nft <keyword>` - Search NFT metadata
- `!nft_history <nft_id>` - View NFT ownership history
- `!burn_nft <nft_id>` - Permanently destroy NFT (returns dust)

### Resilience & Circuit Management (3 commands)
- `!circuit_status` - View circuit breaker states for all services
- `!system_health` - Comprehensive health report with recommendations
- `!force_recovery <service_id>` - Manual service recovery (owner only)

### Twitch Data Sovereignty (5 commands) üÜï
- `!twitch_connect <username>` - Link Twitch account and start analytics tracking
- `!analytics [username]` - View stream insights (FREE: basic stats, PRO: full analysis)
- `!subscribe [pro|free|info]` - Manage subscription tier ($10/mo for PRO)
- `!streamer_stats` - Content strategy recommendations (PRO only)
- `!twitch_dashboard` - Revenue and subscriber metrics (owner only)
- `!nft_stats` - Marketplace statistics
- `!nft_top` - Top 5 most valuable NFTs
- `!nft_detail <nft_id>` - View NFT full details
- `!transfer_nft <nft_id> @user` - Gift NFT to another user
- `!my_listings` - View your marketplace listings
- `!search_nft <keyword>` - Search NFT metadata
- `!nft_history <nft_id>` - View NFT ownership history
- `!burn_nft <nft_id>` - Permanently destroy NFT (returns dust)

### Resilience & Circuit Management (3 commands)
- `!circuit_status` - View circuit breaker states for all services
- `!system_health` - Comprehensive health report with recommendations
- `!force_recovery <service_id>` - Manual service recovery (owner only)

### Twitch Data Sovereignty (5 commands) üÜï
- `!twitch_connect <username>` - Link Twitch account and start analytics tracking
- `!analytics [username]` - View stream insights (FREE: basic stats, PRO: full analysis)
- `!subscribe [pro|free|info]` - Manage subscription tier ($10/mo for PRO)
- `!streamer_stats` - Content strategy recommendations (PRO only)
- `!twitch_dashboard` - Revenue and subscriber metrics (owner only)

## Architecture

### Core Modules
- **quantum_engine.js** - 7-observer pattern recognition system
- **triple_helix.js** - Hot-swap evolution engine for safe updates
- **metadata_economy.js** - Income stream tracking and reinvestment
- **external_integrations.js** - USGS water API, weather API, payment processors
- **production_monitor.js** - Health checks, backups, performance metrics
- **resilience_layer.js** - Circuit breakers, graceful degradation, self-healing
- **twitch_integration.js** - Twitch API client, streamer tracking, analytics collection

### Identity Layer
- **keds_brand.js** - Brand voice and dust economy primitives
- **response_engine.js** - Dynamic response generation
- **dust_economy.js** - Complete economic system with governance
- **nft_system.js** - NFT creation, marketplace, appreciation economy

### Income Layer (Revenue Generation)
- **analytics_engine.js** - Twitch data analysis, growth forecasting, revenue predictions
- **subscription_model.js** - Free/Pro tiers, billing automation, revenue tracking
- **auto_monetization.js** - Automated income stream detection
- **metadata_market.js** - Data-to-dollars conversion pipeline
- **value_extraction.js** - Pattern recognition monetization

### Circuits (Data Pipelines)
- **control_dials.js** - System configuration and tuning
- **data_pipes.js** - Data flow and transformation
- **redstone_nodes.js** - Logic gates and automation

### Discord Integration
- **bot_core.js** - Command routing and Discord.js integration
- **command_system.js** - Command parsing and validation
- **game_integration.js** - Gamification hooks

## Scaling Roadmap

### Current Capacity (~20 users)
- JSON file persistence with auto-save
- In-memory data structures
- Single-process architecture

### Next Milestone (100+ users) - SQLite Migration
- Connection pooling for concurrent access
- Indexed queries for fast lookups
- Transaction integrity

### Production Scale (1000+ users)
- PostgreSQL with Redis caching layer
- Microservices architecture (separate economy/NFT/monitoring services)
- Load balancing across multiple bot instances
- Prometheus metrics and Grafana dashboards

## Resilience Features (v0.8.0)

### Circuit Breaker Pattern
External API failures don't crash commands - bot uses fallback data:
- **Closed**: Normal operation
- **Open**: Service failed 5 times, all requests use cache
- **Half-Open**: Recovery attempt in progress

### Self-Healing
Automatic reconnection attempts with exponential backoff:
- 1min ‚Üí 5min ‚Üí 15min ‚Üí 60min intervals
- Successful recovery clears circuit breaker
- Owner notified if manual intervention needed

### Graceful Degradation
Users never see raw errors - always receive:
- Cached data with staleness warning
- Safe default values (1.0x multipliers)
- Clear status messages about temporary unavailability

## Revenue Model (v0.9.0) üí∞

### Subscription Tiers

**FREE Tier** (Marketing & Lead Generation)
- Basic stream stats (viewers, peak, average)
- Simple chat metrics and sentiment
- 7 days of historical data
- 5 reports per day
- 10-minute refresh rate
- **Value**: Shows streamers what's possible
- **Goal**: Convert 10% to Pro

**PRO Tier** ($10/month - Profit Center)
- ‚ú® Everything in Free, plus:
- üìà Growth trajectory with 30-day forecasting
- üí∞ Revenue predictions and monetization insights
- üéØ Engagement optimization recommendations
- üèÜ Competitive positioning analysis
- üìÖ Content strategy and optimal times
- üìä Unlimited historical data
- ‚ö° 1-minute real-time updates
- üíæ Data export (CSV, JSON)

### Economic Projections

**Target Scale**:
- **100 Pro subscribers** = $1,000/month MRR
- **1,000 Pro subscribers** = $10,000/month MRR
- **10,000 Pro subscribers** = $100,000/month MRR

**Conversion Funnel**:
1. Discord user runs `!twitch_connect` (FREE tier)
2. Views basic analytics - sees value
3. Hits FREE tier limits (7 days history, 5 reports/day)
4. Upgrades to PRO for advanced features
5. **Target conversion rate**: 10% (industry standard SaaS)

**Revenue Allocation**:
- 30% Infrastructure (Twitch API, servers, databases)
- 40% Development (new features, bug fixes)
- 20% Marketing (streamer outreach, Discord advertising)
- 10% Support (customer service, documentation)

**Current Status** (as of implementation):
- 0 subscribers (just launched)
- Automated billing ready
- Revenue tracking operational
- Owner dashboard shows MRR/conversion metrics

### Value Proposition

**For Streamers**:
- "See what's working" - Growth trends they can't get from Twitch dashboard
- "Make more money" - Revenue forecasting shows $X/mo potential
- "Save time" - Automated insights vs manual spreadsheet tracking
- "Beat competition" - Percentile rankings and optimization tips

**For Bot Owner**:
- Recurring revenue (vs one-time sales)
- Scalable (marginal cost ‚âà $0 per subscriber)
- Data moat (more users = better analytics)
- Expansion potential (other platforms: YouTube, Kick, Twitter)

## Development Workflow

### Scripts
- `npm start` - Production mode (single run)
- `npm run dev` - Development mode with nodemon auto-reload
- `npm run lint` - Code quality checks (configured)

### File Structure
```
core/           - 7-observer system, triple helix, economy, integrations, monitoring, resilience
identity/       - Brand voice, dust economy, NFT system
circuits/       - Data pipelines and automation
discord/        - Bot integration and command handlers
income/         - Monetization and value extraction
past projects/  - Historical reference material
```

### Next Development Steps
1. **SQLite Migration** (High Priority) - Required for scaling beyond 20 users
2. **Rate Limiting on External APIs** - Prevent quota exhaustion
3. **Twitch Integration Scoping** (Step 13) - Practical data pipeline design
4. **Redis Caching Layer** - Performance optimization for read-heavy workloads
5. **Comprehensive Test Suite** - Unit tests for economic transactions, circuit breakers

## Known Limitations
- JSON persistence has file locking issues at scale (100+ concurrent users)
- External APIs (USGS, weather) have usage quotas - need rate limit tracking
- No database migrations yet - changing schemas requires manual data transformation
- Single bot instance - no horizontal scaling support
- Memory usage grows linearly with user count (no data eviction strategy)

## Production Checklist
- [x] Zero runtime errors
- [x] Automated backups (hourly with 24-file retention)
- [x] Health monitoring (5-minute intervals)
- [x] Circuit breakers on external APIs
- [x] Graceful degradation for service failures
- [x] Owner-only administrative commands
- [x] Transaction audit logging
- [x] Rate limiting on user actions
- [ ] SQLite migration
- [ ] Redis caching
- [ ] Prometheus metrics export
- [ ] Error tracking (Sentry integration)
- [ ] Automated testing suite

---

**Built with the 7-observer framework** - Input ‚Üí Pattern ‚Üí Feedback ‚Üí Meta ‚Üí Output ‚Üí Ghost ‚Üí Helix

For implementation details, see `ARCHITECTURE_SUMMARY.md` and `CHANGELOG.md`.
